<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เพิ่มข้อมูล</title>

    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.0/font/bootstrap-icons.css">

<!--echart-->
<script src="https://cdn.jsdelivr.net/npm/echarts@5.1.2/dist/echarts.min.js"></script>


<!--axios-->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<script src='/pdf/pdfmake/build/pdfmake.min.js'></script>
<script src='/pdf/pdfmake/build/vfs_fonts.js'></script>


<!--font จ้า-->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300&display=swap" rel="stylesheet">



</head>
<body style="font-family: 'Prompt', sans-serif; background-color: aliceblue;">

    <%- include('layouts/nav') %>
    
    <br>
    <br>
  


    <div class="container-fluid" style="padding-left: 10%; padding-right: 10%;">
        <div class="row">              
            <!-- Area Chart -->
            <div class="col-xl-12 col-lg-12">

            <h3>เพิ่มข้อมูลปริมาณน้ำที่ออกจากระบบ</h3> 
            <br> 
              <div class="card shadow mb-4">
                  <!-- Card Body -->
                  <div class="card-body" style="height: 100%;">
                      <div class="chart-area">
                            <form method="post" action="/treated-water">

                                <br>
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">ปี พ.ศ. </h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-2 col-md-4">
                                              
                                                <div class="mb-3">
                                                        <select class="form-select" aria-label="Default select example" id="year" name="year" >
                                                        <option value="2564" >2564</option>
                                                        <option value="2565" selected >2565</option>
                                                        <option value="2566">2566</option>
                                                        <option value="2567">2567</option>
                                                        <option value="2568">2568</option>
                                                        <option value="2569">2569</option>
                                                        <option value="2570">2570</option>
                                                       
                                                        </select>
                                                  </div>
                                            </div>
                                        </div>
                                    </div>

                                
                                    

                                <br>
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">สาขา</h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-10 col-md-6">
                                              
                                                <div class="mb-3">
                                                        <select class="form-select" aria-label="Default select example" id="stationid" name="stationid" >
                                                            
                                                        </select>
                                                  </div>
                                            </div>
                                        </div>
                                    </div>




                                <br>
                                
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">มกราคม</h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-10 col-md-6">
                                              
                                                <div class="mb-3">
                                                    <input type="text" class="form-control"  placeholder="ปริมาณน้ำออก ม.ค" name="m1" id="m1">
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    

                                
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">กุมภาพันธ์</h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-10 col-md-6">
                                              
                                                <div class="mb-3">
                                                    <input type="text" class="form-control"  placeholder="ปริมาณน้ำออก ก.พ." name="m2" id="m2">
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    

                                
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">มีนาคม</h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-10 col-md-6">
                                              
                                                <div class="mb-3">
                                                    <input type="text" class="form-control"  placeholder="ปริมาณน้ำออก มี.ค." name="m3" id="m3">
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    

                                
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">เมษายน</h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-10 col-md-6">
                                              
                                                <div class="mb-3">
                                                    <input type="text" class="form-control"  placeholder="ปริมาณน้ำออก เม.ย." name="m4" id="m4">
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    

                                
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">พฤษภาคม</h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-10 col-md-6">
                                              
                                                <div class="mb-3">
                                                    <input type="text" class="form-control"  placeholder="ปริมาณน้ำออก พ.ค." name="m5" id="m5">
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    

                                
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">มิถุนายน</h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-10 col-md-6">
                                              
                                                <div class="mb-3">
                                                    <input type="text" class="form-control"  placeholder="ปริมาณน้ำออก มิ.ย." name="m6" id="m6">
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    

                                
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">กรกฏาคม</h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-10 col-md-6">
                                              
                                                <div class="mb-3">
                                                    <input type="text" class="form-control"  placeholder="ปริมาณน้ำออก ก.ค." name="m7" id="m7">
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    

                                
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">สิงหาคม</h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-10 col-md-6">
                                              
                                                <div class="mb-3">
                                                    <input type="text" class="form-control"  placeholder="ปริมาณน้ำออก ส.ค." name="m8" id="m8">
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    

                                
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">กันยายน</h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-10 col-md-6">
                                              
                                                <div class="mb-3">
                                                    <input type="text" class="form-control"  placeholder="ปริมาณน้ำออก ก.ย." name="m9" id="m9">
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    

                                
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">ตุลาคม</h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-10 col-md-6">
                                              
                                                <div class="mb-3">
                                                    <input type="text" class="form-control"  placeholder="ปริมาณน้ำออก ต.ค." name="m10" id="m10">
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    

                                
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">พฤศจิกายน</h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-10 col-md-6">
                                              
                                                <div class="mb-3">
                                                    <input type="text" class="form-control"  placeholder="ปริมาณน้ำออก พ.ย." name="m11" id="m11">
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                <div class="container">
                                    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
                                        <div class="row">
                                            <div class="col-xl-2 col-md-4">
                                                <div class="d-flex flex-row bd-highlight mb-3">
                                                    <h5 style="margin-top: 10px;">ธันวาคม</h5> 
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xl-10 col-md-6">
                                              
                                                <div class="mb-3">
                                                    <input type="text" class="form-control"  placeholder="ปริมาณน้ำออก ธ.ค." name="m12" id="m12">
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    




                                    <br>
                                    <br>

                                    <div class="d-flex flex-row-reverse bd-highlight">
                                        <div style="margin-left: 100px;"><button type="submit" class="btn btn-primary" >เพิ่มข้อมูล</button></div>
                                    </div>
    



                            </form>
                      </div>
                  </div>
              </div>
          </div>
    </div>





          

           <!-- Footer -->
           <footer class="sticky-footer bg-white">
               <div class="container my-auto">
                   <div class="copyright text-center my-auto">
                       <span>Copyright &copy; Your Website 2021</span>
                   </div>
               </div>
           </footer>
           <!-- End of Footer -->

       </div>
       <!-- End of Content Wrapper -->

   </div>
   <!-- End of Page Wrapper -->
            </div>
        </div>
    </div>



<!---------------------     Script ----------------------------->
<script>
let year = document.getElementById('year')
let stationid = document.getElementById('stationid')


const getdata = () => {
  axios
    
    .get("/onestation-data/"+year.value+"/"+stationid.value)
    .then((response) => {
        let store = []
        
        let n = 0
        let keep = []
        let keep2 = ["m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12"]
        for(i of response.data.data){
            console.log(i.treated_water)
            keep.push(i.treated_water)
            n=n+1
        }
        console.log(keep)

     
        document.getElementById("m1").setAttribute('value',keep[0]);
        document.getElementById("m2").setAttribute('value',keep[1]);
        document.getElementById("m3").setAttribute('value',keep[2]);
        document.getElementById("m4").setAttribute('value',keep[3]);
        document.getElementById("m5").setAttribute('value',keep[4]);
        document.getElementById("m6").setAttribute('value',keep[5]);
        document.getElementById("m7").setAttribute('value',keep[6]);
        document.getElementById("m8").setAttribute('value',keep[7]);
        document.getElementById("m9").setAttribute('value',keep[8]);
        document.getElementById("m10").setAttribute('value',keep[9]);
        document.getElementById("m11").setAttribute('value',keep[10]);
        document.getElementById("m12").setAttribute('value',keep[11]);



    });
};

/*getBtn.addEventListener("click", getdata);
*/



</script>

<script>



const getalldata = () => {
  axios
    
    .get("/allstation-data")
    .then((response) => {
        let store = []
        console.log(response.data.data)
        let n = 1

        for(i of response.data.data ){
            let adder = document.createElement('option')
                adder.text = i.station 
                adder.value = i.number

                stationid.add(adder, n)
                n = n+1
        }
        getdata()

    });
};

/*getBtn.addEventListener("click", getdata);
*/

getalldata()

</script>


<script>
    stationid.onchange = function(event){
        let idValue = (stationid.value)
        let yearValue = (year.value)
        console.log(idValue)     
        console.log(yearValue) 

        axios
    
    .get("/onestation-data/"+yearValue+"/"+idValue)
    .then((response) => {
        let store = []
        
        let n = 0
        let keep = []
        let keep2 = ["m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12"]
        for(i of response.data.data){
            console.log(i.treated_water)
            keep.push(i.treated_water)
            n=n+1
        }
        console.log(keep)

     
        document.getElementById("m1").setAttribute('value',keep[0]);
        document.getElementById("m2").setAttribute('value',keep[1]);
        document.getElementById("m3").setAttribute('value',keep[2]);
        document.getElementById("m4").setAttribute('value',keep[3]);
        document.getElementById("m5").setAttribute('value',keep[4]);
        document.getElementById("m6").setAttribute('value',keep[5]);
        document.getElementById("m7").setAttribute('value',keep[6]);
        document.getElementById("m8").setAttribute('value',keep[7]);
        document.getElementById("m9").setAttribute('value',keep[8]);
        document.getElementById("m10").setAttribute('value',keep[9]);
        document.getElementById("m11").setAttribute('value',keep[10]);
        document.getElementById("m12").setAttribute('value',keep[11]);



    });
        
        
    }
</script>





</html>