<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            margin: 20px;
        }
        table {
            border-collapse: collapse;
            border: solid 2px gray;
        }
        td, th {
            padding: 5px;
        }
        th {
            background-color: #cde;
        }
    </style>
</head>
<body>
    <a href="/">หน้าแรก</a><br><br>
    <h4>รายการข้อมูล</h4>
    
    <% if (locals.data) { %>
   
    <table border="1">
        
        <tr><th>timestamp</th><th>ปริมาณน้ำ</th><th>Do</th><th>Treated_Do</th><th>Temp</th><th>Treated_Temp</th><th>pH</th><th>Treated_pH</th>
            <th>BOD</th><th>Treated_BOD</th><th>วันที่</th><th>เดือน</th><th>ปี</th></tr>
        <% 
        for (d of data) { 
            let dt = new Date(Date.parse(d.date_added))
            let df = `${dt.getDate()}-${dt.getMonth() + 1}-${dt.getFullYear()}`
        %>
            <tr>
                <td><%= d.timestamp %></td>
                <td><%= d.treated_water %></td>
                <td><%= d.do %></td>
                <td><%= d.treated_doo %></td>
                <td><%= d.temp %></td>
                <td><%= d.treated_temp %></td>
                
                <td><%= d.ph %></td>
                <td><%= d.treated_ph %></td>
                <td><%= d.bod %></td>
                <td><%= d.treated_bod %></td>
                <td><%= d.day %></td>
                <td><%= d.month %></td>
                <td><%= d.year %></td>
            </tr>
        <% } %>
    </table>
    <% } %>
</body>
</html>